@section scripts{
    <script src="~/js/mustache.min.js"></script>
    <script src="~/js/pagination.min.js"></script>
    <script src="~/admin/js/services/realEstateServices.js"></script>
}

@{
    int userId = User.Identity.IsAuthenticated ? Convert.ToInt32(User.Claims.FirstOrDefault(c => c.Type == "UserId").Value) : 0;
}

<div class="row">
    <div class="col-6 mt-2 pb-3">
        <input type="text" class="form-control" value="" id="search-for-anything" placeholder="Nhập từ tìm kiếm" />
    </div>
</div>
<table class="table table-striped">
    <thead>
        <tr>
            <th>#</th>
            <th>Địa chỉ</th>
            <th>Loại phòng</th>
            <th>Người đăng</th>
            <th>Ngày đăng</th>
            <th>Tình trạng</th>
        </tr>
    </thead>

    <tbody id="real-estate-list-data">
    </tbody>
</table>

@Html.AntiForgeryToken()
<div class="pb-1" id="pagination"></div>
<input type="hidden" id="paging-current-index" />

<script id="data-template" type="x-tmpl-mustache">
    <tr>
        <td>{{Index}}</td>
        <td>{{Street}}</td>
        <td>{{Type}}</td>
        <td>{{Agent}}</td>
        <td>{{PostDate}}</td>
        <td>{{Status}}</td>
        <td class="text-center">
            <a href="@Url.Action("Details","RealEstate")?id={{Id}}" title="Chi tiết" class="btn btn-blue btn-circle">
                <i class="fas fa-info" al></i>
            </a>
            @*<a href="@Url.Action("Edit","RealEstate")?id={{Id}}" title="Chỉnh sửa" class="btn btn-primary btn-circle">
                    <i class="fas fa-pencil-alt"></i>
                </a>*@
            <form onsubmit="return realEstateServices.disableRealEstate(this);" class="d-inline">
                <input type="hidden" name="id" value="{{Id}}" />
                <button class="btn btn-warning btn-circle" title="Khóa" type="submit">
                    <i class="fas fa-store-alt-slash"></i>
                </button>
            </form>
            <form onsubmit="return realEstateServices.deleteRealEstate(this);" class="d-inline">
                <input type="hidden" name="id" value="{{Id}}" />
                <input type="hidden" name="userId" value="@userId" />
                <button class="btn btn-danger btn-circle" title="Xóa" type="submit">
                    <i class="fas fa-times"></i>
                </button>
            </form>
            @*<form asp-area="AdminArea" asp-controller="RealEstate" asp-action="Disable" asp-route-id="{Ư" asp-route-userId="@item.AgentId" onsubmit="return DisableRealEstate(this);" class="d-inline">
                    <button class="btn btn-default btn-circle" title="Khóa bài viết" type="submit">
                        <i class="fas fa-lock"></i>
                    </button>
                </form>
                <form asp-area="AdminArea" asp-controller="RealEstate" asp-action="Delete" asp-route-id="@item.Id" asp-route-userId="@item.AgentId" onsubmit="return DeleteRealEstate(this);" class="d-inline">
                    <button class="btn btn-danger btn-circle" title="Xóa bài viết" type="submit">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                </form>*@
        </td>
    </tr>
</script>
