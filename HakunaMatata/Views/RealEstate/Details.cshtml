@model HakunaMatata.Models.ViewModels.VM_RealEstateDetails;

@section scripts{
    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBY8PE_X6qdTWkZwdBENNpGJTYr1cTjG9I&callback=initMap">
    </script>
}

@{
    ViewData["Title"] = "Thông tin chi tiết";

    var realEstateType = string.Empty;
    switch (Model.RealEstateTypeId)
    {
        case 1: realEstateType = "Phòng trọ"; break;
        case 2: realEstateType = "Nhà nguyên căn"; break;
        case 3: realEstateType = "Căn hộ"; break;
        case 4: realEstateType = "Ở ghép"; break;
        default: realEstateType = "Phòng trọ"; break;
    }

    var statusCss = Model.Status.Equals("Còn phòng") ? "text-success" : "text-disable";
    var statusIcon = Model.Status.Equals("Còn phòng") ? "fa fa-check" : "fa fa-times";

    var isExpired = Model.Status.Equals("Còn phòng") ? "d-none" : "d-block";

}

<!-- breadcrumb area start -->
<div class="breadcrumb-area jarallax" style="background-image:url(/assets/img/bg/4.png);">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="breadcrumb-inner">
                    <h1 class="page-title">Thông tin chi tiết</h1>
                    <ul class="page-list">
                        <li><a href="index-2.html">Home</a></li>
                        <li>Property</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- breadcrumb area End -->
<!-- property-details-area start -->
<div class="property-details-area">

    <div class="container">
        <div class="row pd-top-40">
            <div class="col-lg-9">
                <div class="property-info mb-5">
                    <div class="h4 text-danger">
                        @Model.Title
                    </div>
                    <div class="h6 font-italic">@realEstateType</div>
                </div>
                <div class="property-news-single-card border-bottom-yellow mb-4 pb-2">
                    <div class="row">
                        <div class="col-md-3 col-sm-6">
                            <div class="single-property-info">
                                <div class="h5">Tình trạng</div>
                                <p class="@statusCss font-weight-bold"><i class="@statusIcon"></i>@Model.Status</p>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <div class="single-property-info">
                                <div class="h5">Số phòng</div>
                                <p><i class="fa fa-home"></i>@Model.RoomNumber phòng</p>
                            </div>
                        </div>

                        <div class="col-md-3 col-sm-6">
                            <div class="single-property-info">
                                <div class="h5">Giá phòng</div>
                                <p class="text-danger">
                                    <i class="fa fa-usd"></i>
                                    @Helper.VNCurrencyFormat(Model.Price.ToString())/tháng
                                </p>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <div class="single-property-info">
                                <div class="h5">Diện tích</div>
                                <p class="text-danger">
                                    <img src="~/assets/img/icons/7.png" alt="img">
                                    @Model.Acreage m<sub style="vertical-align:super">2</sub>
                                </p>
                            </div>
                        </div>

                    </div>
                    <div class="row mt-2">
                        <div class="col-md-3 col-sm-6">
                            <div class="single-property-info">
                                <div class="h5">Ngày đăng</div>
                                <p><i class="fa fa-calendar"></i>@Model.PostTime</p>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <div class="single-property-info">
                                <div class="h5">Ngày hết hạn</div>
                                <p><i class="fa fa-calendar-times-o"></i>@Model.ExprireTime</p>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <div class="single-property-info">
                                <div class="h5">SĐT liên hệ</div>
                                <p><i class="fa fa-phone"></i>@Model.ContactNumber</p>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <div class="single-property-info">
                                <div class="h5">Người đăng</div>
                                <p><i class="fa fa-user"></i>@Model.AgentName</p>
                            </div>
                        </div>

                    </div>
                    <div class="row mt-2">
                        <div class="col-md-12">
                            <div class="single-property-info">
                                <div class="h5">Địa chỉ</div>
                                <p>
                                    <img src="~/assets/img/icons/1.png" alt="img">
                                    @Model.Address
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="@isExpired" id="da-het-han"></div>

                <div class="property-news-single-card border-bottom-yellow">
                    <div class="content-title h4">Mô tả chi tiết</div>
                    <div class="mb-3">
                        @Html.Raw(Model.Description)
                    </div>

                </div>
                <div class="property-news-single-card border-bottom-yellow pb-4">
                    <div class="content-title mb-3 h4">Tiện ích có sẵn</div>
                    <div class="row">
                        @if (Model.SecurityCamera)
                        {
                            <div class="col-sm-4">
                                <ul class="rld-list-style mb-3">
                                    <li><i class="fa fa-check"></i> Camera an ninh</li>
                                </ul>
                            </div>
                        }
                        @if (Model.HasPrivateWc)
                        {
                            <div class="col-sm-4">
                                <ul class="rld-list-style mb-3">

                                    <li><i class="fa fa-check"></i> Vệ sinh riêng</li>

                                </ul>
                            </div>
                        }

                        @if (Model.HasMezzanine)
                        {
                            <div class="col-sm-4">
                                <ul class="rld-list-style mb-3">

                                    <li><i class="fa fa-check"></i> Có gác lửng</li>

                                </ul>
                            </div>
                        }

                        @if (Model.AllowCook)
                        {
                            <div class="col-sm-4">
                                <ul class="rld-list-style mb-3">

                                    <li><i class="fa fa-check"></i> Cho phép nấu ăn</li>

                                </ul>
                            </div>
                        }

                        @if (Model.FreeTime)
                        {
                            <div class="col-sm-4">
                                <ul class="rld-list-style mb-3">

                                    <li><i class="fa fa-check"></i> Giờ giấc tự do</li>

                                </ul>
                            </div>
                        }
                        @if (Model.WifiPrice == 0)
                        {
                            <div class="col-sm-4">
                                <ul class="rld-list-style mb-3">
                                    <li><i class="fa fa-check"></i> Free wifi</li>
                                </ul>
                            </div>
                        }

                    </div>
                </div>

                <div class="property-news-single-card style-two border-bottom-yellow">
                    <div class="content-title mb-3 h4">Hình ảnh</div>
                    @if (Model.ImageUrls.Count > 0)
                    {
                        <div id="picturesCarousel" class="carousel slide" data-ride="carousel">

                            <ol class="carousel-indicators">
                                <li data-target="#picturesCarousel" data-slide-to="0" class="active"></li>
                                @for (var i = 1; i < Model.ImageUrls.Count; i++)
                                {
                                    <li data-target="#picturesCarousel" data-slide-to="@i"></li>
                                }
                            </ol>

                            <div class="carousel-inner" style="height: 500px;">
                                <div class="carousel-item active" style="height: 100%;">
                                    <img class="d-block  mx-auto h-100" src="@Model.ImageUrls.First()" alt="">
                                </div>
                                @for (var i = 1; i < Model.ImageUrls.Count; i++)
                                {
                                    <div class="carousel-item" style="height: 100%;">
                                        <img class="d-block mx-auto h-100" src="@Model.ImageUrls[i]" alt="">
                                    </div>
                                }
                            </div>

                            <a class="carousel-control-prev" href="#picturesCarousel" role="button"
                               data-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="carousel-control-next" href="#picturesCarousel" role="button"
                               data-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>
                    }
                    else
                    {
                        <div>Hiện chưa có hình ảnh nào.</div>
                    }

                </div>
                <div class="property-news-single-card style-two border-bottom-yellow">
                    <div class="content-title mb-3 h4">Bản đồ</div>
                    <p class="font-italic">(Vị trí trên bản đồ chỉ mang tính chất tương đối, chưa phải vị trí chính xác)</p>
                    <input type="hidden" id="lat" value="@Model.Latitude" />
                    <input type="hidden" id="longt" value="@Model.Longtitude" />
                    <div id="map" style="height: 500px; border-radius:8px"></div>
                </div>


            </div>
            <div class="col-lg-3">
                <div class="widget mt-3 pl-3">
                    <div class="text-danger h6 pt-3">Xem theo loại phòng</div>
                    <ul class="ml-2">
                        <li><a href="#">Phòng trọ, nhà trọ</a> </li>
                        <li><a href="#">Thuê nhà nguyên căn</a> </li>
                        <li><a href="#">Căn hộ chung cư</a> </li>
                        <li><a href="#">Ở ghép</a> </li>

                    </ul>
                </div>
                <div class="widget mt-3 pl-3">
                    <div class="text-danger h6 pt-3">Xem theo quận huyện</div>
                    <ul class="ml-2">
                        <li><a href="#">Phòng trọ Hải Châu</a> </li>
                        <li><a href="#">Phong trọ Cẩm Lệ</a> </li>
                        <li><a href="#">Phong trọ Thanh Khê</a> </li>
                        <li><a href="#">Phong trọ Ngũ Hành Sơn</a> </li>
                        <li><a href="#">Phong trọ Sơn Trà</a> </li>

                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- property details area end -->
<!-- Recommended area start -->
<div class="recommended-area pd-top-90 pd-bottom-70">
    <div class="container">
        <div class="section-title">
            <div class="title h3">Khu vực lân cận</div>
            <a class="btn-view-all" href="#">Xem tất cả</a>
        </div>
        <div class="row">

        </div>
    </div>
</div>
<!-- Recommended area end -->

<script>
    // Initialize and add the map
    function initMap() {
        // The location of Uluru
        var latitude = document.getElementById('lat').value;
        var longtitude = document.getElementById('longt').value;
        var loca = { lat: Number(latitude), lng: Number(longtitude) };
        // The map, centered at Uluru
        var map = new google.maps.Map(
            document.getElementById('map'), { zoom: 15, center: loca });
        // The marker, positioned at Uluru
        var marker = new google.maps.Marker({ position: loca, map: map });
    }
</script>